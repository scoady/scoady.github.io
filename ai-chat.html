<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css">
  <link rel="stylesheet" href="chat.css">
  <link rel="stylesheet" href="nav.css">
  <link rel="stylesheet" href="modal.css">
  <script>
    (function () {
  // Load the Web SDK script dynamically
  const webSdkScript = document.createElement("script");
  webSdkScript.src =
    "https://unpkg.com/@grafana/faro-web-sdk@^1.4.0/dist/bundle/faro-web-sdk.iife.js";

  webSdkScript.onload = () => {
    try {
      const faro = window.GrafanaFaroWebSdk.initializeFaro({
        url: "https://faro-collector-prod-us-west-0.grafana.net/collect/779edd50e8f4859570c1bf07567613e2",
        app: {
          name: "scoady-gpt",
          version: "1.0.0",
          environment: "production",
        },
      });

      console.log("Faro initialized:", faro);

      // Load the Tracing SDK dynamically after Faro is initialized
      const webTracingScript = document.createElement("script");
      webTracingScript.src =
        "https://unpkg.com/@grafana/faro-web-tracing@^1.4.0/dist/bundle/faro-web-tracing.iife.js";

      webTracingScript.onload = () => {
        try {
          const { TracingInstrumentation } = window.GrafanaFaroWebTracing;
          window.GrafanaFaroWebSdk.faro.instrumentations.add(
            new TracingInstrumentation()
          );
          console.log("TracingInstrumentation added.");
        } catch (error) {
          console.error("Error adding TracingInstrumentation:", error);
        }
      };
      new window.GrafanaFaroWebTracing.TracingInstrumentation({
      sampler: 1.0, // 100% sampling rate
  });
      webTracingScript.onerror = () => {
        console.error("Failed to load the Tracing SDK.");
      };

      document.head.appendChild(webTracingScript);
    } catch (error) {
      console.error("Error initializing Faro SDK:", error);
    }
  };

  webSdkScript.onerror = () => {
    console.error("Failed to load the Faro SDK.");
  };

  document.head.appendChild(webSdkScript);
})();

    </script>
</head>
<body>
  <main>
    <div id="terminal-container">
      <div id="terminal-header"></div>
      <div id="terminal-body">
        <div id="terminal-output"></div>
        <div id="terminal-input">
          <div id="terminal-prompt"></div>
          <input type="text" id="terminal-input-field" autocomplete="off" />
        </div>
      </div>
    </div>
  </main>
  <script src="chat.js"></script>
  <script src="modal.js"></script>
</body>
</html>
